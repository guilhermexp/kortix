# Railway Configuration for Supermemory API
# This file tells Railway how to build and deploy the API service
#
# IMPORTANT: This is a shared monorepo - builds must install from root
# to ensure @repo/* dependencies are available
#
# Build configuration is in nixpacks.toml which includes:
# - Python311 for MarkItDown
# - Bun runtime
# - GCC for native dependencies

[build]
builder = "NIXPACKS"

[deploy]
# Start the API from monorepo root to access @repo/* packages
startCommand = "cd /app && bun run --cwd apps/api start"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
healthcheckPath = "/health"
healthcheckTimeout = 300

# Railway will automatically set PORT environment variable
# The API will listen on the port provided by Railway
