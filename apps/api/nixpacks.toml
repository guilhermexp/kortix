[phases.setup]
nixPkgs = ["bun", "python311", "python311Packages.pip", "gcc", "stdenv.cc.cc.lib"]

[phases.install]
cmds = [
    "bun install",
    "bash apps/api/install-markitdown.sh"
]

[phases.build]
cmds = ["bun run check-types"]

[start]
cmd = "bun run --cwd apps/api start"

[variables]
MARKITDOWN_PYTHON_PATH = "python3"
