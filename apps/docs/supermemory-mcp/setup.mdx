---
title: 'Setup e uso'
description: 'Como configurar o MCP com o backend self-hosted'
---

O servidor MCP roda no próprio backend (`apps/api`). Sempre que a API estiver ativa ele expõe uma conexão SSE em `${SUPERMEMORY_API_URL}/mcp` (por padrão `http://localhost:4000/mcp`).

## Passo a passo rápido

1. Gere um token no painel (`http://localhost:3000` → **Configurações → API Keys**).
2. Anote a URL pública do backend. Em desenvolvimento ela é `http://localhost:4000`.
3. Escolha o cliente MCP (Cursor, Claude Desktop, VS Code, etc.).
4. Use o comando:

```bash
npx -y install-mcp@latest http://localhost:4000/mcp --client cursor --oauth=yes
```

Substitua `cursor` pelo cliente desejado. O script instala e registra o servidor automaticamente com autenticação baseada no token informado durante o fluxo.

## Configuração manual (exemplo)

Se preferir configurar à mão, adicione algo assim ao arquivo de configuração do seu cliente:

```json
{
  "mcpServers": {
    "supermemory": {
      "transport": "sse",
      "url": "http://localhost:4000/mcp",
      "env": {
        "SUPERMEMORY_API_KEY": "SEU_TOKEN"
      }
    }
  }
}
```

Para rodar via `supergateway` (CLI):

```json
{
  "command": "npx",
  "args": [
    "-y",
    "supergateway",
    "--sse",
    "http://localhost:4000/mcp"
  ],
  "env": {
    "SUPERMEMORY_API_KEY": "SEU_TOKEN"
  }
}
```

Ou com Docker:

```json
{
  "command": "docker",
  "args": [
    "run",
    "-i",
    "--rm",
    "ghcr.io/supermemoryai/supergateway:latest",
    "--sse",
    "http://localhost:4000/mcp"
  ],
  "env": {
    "SUPERMEMORY_API_KEY": "SEU_TOKEN"
  }
}
```

## Dicas

- O backend valida o token via autenticação customizada; gere credenciais individuais para cada equipe/ferramenta.
- Ajuste a URL para o domínio público quando publicar (ex.: `https://api.supermemory.local/mcp`).
- Os conectores MCP usam a mesma organização/projeto definidos no painel.
